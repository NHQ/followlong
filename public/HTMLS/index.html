<!doctype html>
<html>
  <head>
    <title></title>
  </head>
  <body>
  
  <h1>Your channels, Sir</h1>
  <ul class="channels"></ul>
  
  
  
    <script type='text/javascript', src='https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js'></script>
    <script type='text/javascript', src='/javascripts/jquery.isotope.min.js'></script>
    <script type='text/javascript', src='/javascripts/path.min.js'></script>
    <script type='text/javascript', src='/javascripts/front.js'></script>
     <script type='text/javascript'>
    	$(document).ready(function(){
    	var that = $('ul#channels');
    	neon = function(obj, x){
    		if (typeof obj === 'string')
    		{
    		that.append('<li></li>').attr({class: obj, "data-station": x}).html(obj);
    		} 
    		else 
    		{	
    		that.append('<ul></ul>').attr({class: obj.channel, "data-station": x}).html(obj.channel);
    		var that = $('ul#'+object.channel);
    		for (l in obj.subChannels)
    		{
    			neon(obj.subChannels, x+'.'+((l+1)/10))
    		}
    		}};
    	otro = function(obj, x){
    		$('ul').append('<ul></ul>').attr({class: obj.channel, "data-station": x}).html(obj.channel);
    		for (l in obj.subChannels)
    		{
    			neon(obj.subChannels[x], x+'.'+l)
    		}};

    	var hermes = $.getJSON('/info', function(){})
    	.success(function(json){
    	  alert('success');
    		channels = JSON.parse(json);
    		for (x in channels)
    		{
    			neon(channels[x], x)
    		}
    	}).error(function(jqXHR, textStatus, errorThrown) { alert("error: "+errorThrown); })
    	});
    </script>
  </body>
</html>
